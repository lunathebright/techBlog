---
title: '[RegExp] regular expressions 정규표현식'
date: 2021-09-09 15:05:13
category: 'fundamental'
draft: false
---

# Regular Expressions 정규표현식

문자열에 나타나는 특정 문자 조합과 대응시키기 위해 사용되는 패턴을 정규 표현식(=정규식)이라 한다. exec, test, match, replace, search, split 메소드 등과 함께 사용할 수 있다. (exec, test: RegExp 메소드 / match, replace, search, split: String 메소드)

정규식을 사용하면 문자열에서 원하는 문자를 찾거나, 원하는 문자열이 포함되어 있는지 확인하거나, 문자열이 요구하는 조건에 부합하는지 등을 쉽게 처리할 수 있기 때문에 유용하다.

<br/>

## 정규식의 생성

정규식을 만드는 방법은 두 가지가 있다.

### 1. 정규식 리터럴

스크립트가 불러와질 때 컴파일 된다.
정규식은 리터럴은 기본적으로 `/regexp/i`의 형식을 가지고 있다. 슬래쉬 "/"로 시작과 종료를 표현하고 내부에 패턴이 들어간다. 종료되는 슬래쉬 뒤에는 플래그가 들어간다.

```javascript
const regExp = /[^a-z0-9\-_.]/g
```

### 2. RegExp 객체의 생성자 함수 호출

정규식 실행 시점에 컴파일 된다.
패턴 표현 방법은 리터럴과 동일하다. 하지만 시작과 종료를 표현하는 슬래쉬를 사용하지 않고, 플래그를 두번째 인자로 넘긴다.

```javascript
const regExp = new RegExp('[^a-z0-9-_.]', 'g')
```

MDN에서는 정규식이 상수인 경우 정규식 리터럴을, 정규식 패턴에 변경 가능성이 있는 경우 생성자 함수 호출을 사용하길 권장하고 있다.

<br/>

## 정규식의 플래그

정규식의 플래그는 옵션이다. 필요에 따라 사용하면 된다.

<span style="color: #9D9F9D;">
g 플래그를 사용하지 않으면 매칭 대상이 여러개여도 첫번째 매칭 대상을 찾은 후 종료</span>

<br/>
<br/>

| flag | meaning     | description                   |
| ---- | ----------- | ----------------------------- |
| i    | ignore case | 대소문자를 구별하지 않고 검색 |
| g    | global      | 문자열 내의 모든 패턴 검색    |
| m    | multi line  | 문자열의 행이 바뀌어도 검색   |
| u    | unicode     | 유니 코드 문자를 처리         |

## 정규식의 패턴

패턴에는 검색할 문자열을 지정한다. 크게 단순 문자열 패턴과 특수 문자 사용 패턴이 있지만, 정규식을 사용하는 경우 대부분 특수 문자 사용 패턴을 활용한다. 그렇기 때문에 특수 문자 사용 패턴에 대해서만 정리하고자 한다.

아래의 표는 개인적인 기준에서 자주 사용된다고 느낀 패턴만 정리해놓은 것이고 다른 패턴도 많다.
<br/>

| sign           | description                                                                                  |
| -------------- | -------------------------------------------------------------------------------------------- |
| `^`            | 줄(Line)의 시작에서 일치 `/^abc/`                                                            |
| `$`            | 줄(Line)의 끝에서 일치 `/xyz$/`                                                              |
| `.`            | 임의의 한 문자와 일치 `/ ... /`                                                              |
| `*`            | 0회 이상 연속으로 반복되는 문자와 일치                                                       |
| `{0, }`        | 0회 이상 연속으로 반복되는 문자와 일치 `{3, } 3회 이상 연속 일치`                            |
| `{0}`          | 0회 연속 일치 `{3} 3회 연속 일치`                                                            |
| `{0, 5}`       | 0회 이상 5회 이하 연속 일치                                                                  |
| `+`            | 1회 이상 연속으로 반복되는 문자와 일치 `{1, } 과 동일`                                       |
| `[ ]`          | 지정된 값 중 하나와 일치 `[abc] 이면 a 또는 b 또는 c와 일치`                                 |
| `[a-z], [A-Z]` | a 부터 z 사이의 문자 중 일치 (소문자, 대문자)                                                |
| `[0-9]`        | 0부터 9사이의 문자 중 일치                                                                   |
| `[가-힇]`      | '가'부터 '힇'사이의 문자 중 일치                                                             |
| `[^ ]`         | not. 지정된 값이 아닌 문자와 일치 `[^abc] 이면 a 또는 b 또는 c 를 제외한 나머지 문자와 일치` |
| `\w`           | 영문 대소문자 52개 + 숫자 10개 + "\_" 와 일치                                                |
| `\W`           | 영문 대소문자 52개 + 숫자 10개 + "\_" 가 아닌 문자에 일치                                    |
| `\d`           | 숫자와 일치(Digit)                                                                           |
| `\D`           | 숫자가 아닌 문자와 일치                                                                      |
| `\s`           | 공백에 일치(space, tab)                                                                      |
| `\S`           | 공백이 아닌 문자에 일치                                                                      |

## 정규식 패턴 작성 예시

```javascript
const regExp1 = /.../
// 연속되는 임의의 문자 3개

const regExp2 = /[^a-z0-9\-_.]/
// 영문 소문자와 숫자, 특수 문자 "-", "_", "."을 제외한 문자

const regExp3 = /(\.)\1+/
// 특수 문자 "."이 한 번 이상 반복되는 문자

const regExp4 = /^\.|\.$/
// 문자열의 시작 또는 끝이 특수 문자 "."으로 시작
```

## 메소드 사용 예시

정규식에는 정규식에서 제공하는 메소드와 문자열에서 제공하는 메소드를 사용할 수 있다.

```javascript
const str = 'hi, my name is Luna'

const regExp = /[^a-z0-9]/g // 영문 소문자와 숫자를 제외한 모든 문자열

console.log(regExp.test(str)) // true
console.log(str.replace(regExp, '')) // 'himynameisuna'
```

<br/>
<br/>
<br/>
<br/>
